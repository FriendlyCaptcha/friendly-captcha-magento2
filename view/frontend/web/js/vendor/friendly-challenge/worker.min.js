!function(){"use strict";function t(t){const e={},r=t.exports,n=r.memory,s=r.__alloc,o=r.__retain,a=r.__rtti_base||-1;return e.__allocArray=(t,e)=>{const r=function(t){return new Uint32Array(n.buffer)[(a+4>>>2)+2*t]}(t),i=31-Math.clz32(r>>>6&31),c=e.length,f=s(c<<i,0),l=s(12,t),u=new Uint32Array(n.buffer);u[l+0>>>2]=o(f),u[l+4>>>2]=f,u[l+8>>>2]=c<<i;const y=n.buffer,p=new Uint8Array(y);if(16384&r)for(let t=0;t<c;++t)p[(f>>>i)+t]=o(e[t]);else p.set(e,f>>>i);return l},e.__getUint8Array=t=>{const e=new Uint32Array(n.buffer),r=e[t+4>>>2];return new Uint8Array(n.buffer,r,e[r-4>>>2]>>>0)},function(t,e={}){const r=t.__argumentsLength?e=>{t.__argumentsLength.value=e}:t.__setArgumentsLength||t.__setargc||(()=>({}));for(const n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;const s=t[n],o=n.split(".")[0];"function"==typeof s&&s!==r?(e[o]=(...t)=>(r(t.length),s(...t))).original=s:e[o]=s}return e}(r,e)}class e{constructor(t){this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.v=new Uint32Array(32),this.m=new Uint32Array(32),this.outlen=t}}function r(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function n(t,e,r,n,s,o,a,i){const c=e[a],f=e[a+1],l=e[i],u=e[i+1];let y,p,w,h,_=t[r],A=t[r+1],g=t[n],U=t[n+1],b=t[s],m=t[s+1],d=t[o],v=t[o+1];y=_+g,p=(_&g|(_|g)&~y)>>>31,_=y,A=A+U+p,y=_+c,p=(_&c|(_|c)&~y)>>>31,_=y,A=A+f+p,w=d^_,h=v^A,d=h,v=w,y=b+d,p=(b&d|(b|d)&~y)>>>31,b=y,m=m+v+p,w=g^b,h=U^m,g=w>>>24^h<<8,U=h>>>24^w<<8,y=_+g,p=(_&g|(_|g)&~y)>>>31,_=y,A=A+U+p,y=_+l,p=(_&l|(_|l)&~y)>>>31,_=y,A=A+u+p,w=d^_,h=v^A,d=w>>>16^h<<16,v=h>>>16^w<<16,y=b+d,p=(b&d|(b|d)&~y)>>>31,b=y,m=m+v+p,w=g^b,h=U^m,g=h>>>31^w<<1,U=w>>>31^h<<1,t[r]=_,t[r+1]=A,t[n]=g,t[n+1]=U,t[s]=b,t[s+1]=m,t[o]=d,t[o+1]=v}const s=[4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225],o=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6,22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8,14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16,18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26,4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18,24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22,26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20,12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10,20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6];function a(t,e){const a=t.v,i=t.m;for(let e=0;e<16;e++)a[e]=t.h[e],a[e+16]=s[e];a[24]=a[24]^t.t,a[25]=a[25]^t.t/4294967296,e&&(a[28]=~a[28],a[29]=~a[29]);for(let e=0;e<32;e++)i[e]=r(t.b,4*e);for(let t=0;t<12;t++)n(a,i,0,8,16,24,o[16*t+0],o[16*t+1]),n(a,i,2,10,18,26,o[16*t+2],o[16*t+3]),n(a,i,4,12,20,28,o[16*t+4],o[16*t+5]),n(a,i,6,14,22,30,o[16*t+6],o[16*t+7]),n(a,i,0,10,20,30,o[16*t+8],o[16*t+9]),n(a,i,2,12,22,24,o[16*t+10],o[16*t+11]),n(a,i,4,14,16,26,o[16*t+12],o[16*t+13]),n(a,i,6,8,18,28,o[16*t+14],o[16*t+15]);for(let e=0;e<16;e++)t.h[e]=t.h[e]^a[e]^a[e+16]}function i(t,e){for(let e=0;e<16;e++)t.h[e]=s[e];t.b.set(e),t.h[0]^=16842752^t.outlen}function c(t,e){const r=new Uint8Array(3),n=new DataView(r.buffer);return n.setUint8(0,t),n.setUint16(1,e),r}let f,l;Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:function(t,e){return new Uint8Array(Array.prototype.slice.call(this,t,e))}}),self.ASC_TARGET=0;let u=new Promise((t=>l=t)),y=!1;self.onerror=t=>{self.postMessage({type:"error",message:JSON.stringify(t)})},self.onmessage=async r=>{const n=r.data,s=n.type;try{if("module"===s){const e=await async function(e){const r=await async function(e){const r={env:{abort(){throw Error("Wasm aborted")}}};return{exports:t(await WebAssembly.instantiate(e,r))}}(e),n=r.exports.__retain(r.exports.__allocArray(r.exports.Uint8Array_ID,new Uint8Array(128)));let s=r.exports.__getUint8Array(n);return(t,e,o=4294967295)=>{s.set(t);const a=r.exports.solveBlake2b(n,e,o);s=r.exports.__getUint8Array(n);const i=r.exports.__getUint8Array(a);return r.exports.__release(a),[s,i]}}(n.module);self.postMessage({type:"ready",solver:2}),f=2,l(e)}else if("js"===s){const t=await async function(){return(t,r,n=4294967295)=>[t,function(t,r,n){if(128!=t.length)throw Error("Invalid input");const s=t.buffer,o=new DataView(s),c=new e(32);c.t=128;const f=o.getUint32(124,!0),l=f+n;for(let e=f;e<l;e++)if(o.setUint32(124,e,!0),i(c,t),a(c,!0),c.h[0]<r)return 0==ASC_TARGET?new Uint8Array(c.h.buffer):Uint8Array.wrap(c.h.buffer);return new Uint8Array(0)}(t,r,n)]}();self.postMessage({type:"ready",solver:1}),f=1,l(t)}else if("start"===s){if(y)return;y=!0;const t=await u;self.postMessage({type:"started"});let e=Date.now(),r=0;const s=function(t,e){const r=[];for(let n=0;n<e;n++){const e=new Uint8Array(128);e.set(t),e[120]=n,r.push(e)}return r}(n.buffer,n.n),a=new Uint8Array(8*n.n);for(var o=0;o<s.length;o++){const e=Date.now();let i;for(var p=0;p<256;p++){s[o][123]=p;const[e,r]=t(s[o],n.threshold);if(0!==r.length){i=e;break}console.warn("FC: Internal error or no solution found")}const c=new DataView(i.slice(-4).buffer).getUint32(0,!0),f=(Date.now()-e)/1e3;r+=c,a.set(i.slice(-8),8*o),self.postMessage({type:"progress",n:n.n,h:c,t:f,i:o})}const i=(Date.now()-e)/1e3,l={type:"done",solution:a,h:r,t:i,diagnostics:c(f,i),solver:f};self.postMessage(l)}}catch(t){setTimeout((()=>{throw t}))}}}();